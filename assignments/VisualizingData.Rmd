---
title: "Visualizing Data"
author: "Garrett Nunn"
date: "November 18, 2018"
output:
  html_document:
    keep_md: yes
    number_sections: yes
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r}
library(MASS)
library(lattice)
```
#Data Visualization
Exploratory Visualizations are for data analysis so you want to be able to see as much information as possible in a meaningful way.

Explantory visualizations are for when you haev already found the relavent data and would like to show it to someone else.
* Base graphics is the basic graphics plotting software in R
* Grid graphics is a more complicated version of this
* ggplot2 is for scrubs but is based off the grid graphics system

Base Graphics:
```{r}
plot(xVar, yVar,xlab = "label of x axis", ylab = "y axis label", main= "Title")
title("Title of the Plot")
```
Grid:
* Basically used by people who make r packages
Lattice:
* Makes it very easy to make a conditional scatterplot
```{r}
xyplot(yVar ~ xVar |conditionalVar, data = data)
```
*Other plots:*
There are also different kind of plots in Base such as:
  *'sunflowerplot()' shows an additional petal for every value at the same point in the graph. Useful when data points are repeated
  *'boxplot()' useful for seeing distribution over a given y value and either a few x values or categories
  *'mosaicplot()' shows a mosaice plot
*Base Plot can also be enhanced*
  * 'points()' adds points to the plot
  * 'lines()' adds lines that are usually curved
  * 'text()' adds labels
  * 'par()' allows you to set-up multiple plot arrays
A good general rule of thumb is pie charts are bad

##Characterizing a single variable
Numerical data should general conform to a gaussian distribution. The spread is the stdev.
* Histogram is just a grouping of number of things in each bin
* Density estimate should look like a bell curve roughly. Basically a smoothed histogram
* Normal QQ-plot sorted points should be close to the solid line if the data is gaussian distribution

##Histograms
* 'hist()' is a function that puts numerical values into bins and shows you the number frequency of them
* 'truehist()' is similar to 'hist()' but instead shows each bins approximate estimate

##Characterizing the relationship between two variables
* Scatterplots do this 'plot(yVar~xVar, data = mydata)'
* Sunflower plots do this as well
* When few x values, use a boxplot
* Mosaicplot when you have a ton of repeated data points
*More complex relationships*
* Bagplots shows a 2D version of distribution for two variables
* Correlation coefficient is the relation between numerical varibales and is between -1 and +1
  + corrplot() shows this relation across the entire dataset
  + Useful prelimary view
* Decision tree models
  + Shows the structure of the relation between the other variables
```{r}
theCorrelationMatrix = corr(myData)
corrplot(corr=theCorrelationMatrix, method = "ellipse")
```
Tree modeling:
```{r}
tree_model = rpart(var2Predict ~ ., data = myData)
```
* Careful with this var2predict is the variable you are trying to pre

##Graphics Parameters
* Par is a global graphics parameter so 'par(pch = 16)' would change all future graphs to a closed circle from the default open one
* Changing it locally just affects the one plot you are making
Let's break down a plot
```{r}
plot(xVar, yVar,type = "l", lty = 2, lwd = 3, col = "red")
```
Here we see the x variables plotted against the y variables
* type "l" means a line graph
  + "p" is points
  + "s" is steps
  + "o" is points overlaid a line
* lty is line type and here specifies a dashed line
* lwd specifies line width here it is 3 times the relatively larger than the default
Lets add some more
```{r}
title("Hello graph")
text( xVar, yVar, labels = "Yes", cex = 1.2, col = "blue", adj = 0)
```
* title adds a title to the graph
* text() at every xy value
  + labels places the label "Yes"
  + cex makes the text 20% larger
  + col makes the colour blue
  + adj = 0 left adjusts the text
*axis() adds an axis at the specified side
  + 1 is below(x-axis), 2 is left (y-axis), 3 is above, and 4 is right
* supsmu() makes a trend line from given x and y values

##Multiple Graphs
```{r}
matplot(var$y, var[,c("x1","x2","x3")])
```
This makes a matrix of plots that plot the variable y vs x1 in one graph then y vs x2 in another and so on and so on

layout()
* This function basically uses a similar idea as the last but not all graphs have to be the same size.
* The size of each graph is determined by the layout matrix
* 
layout.show(n=3)
* This will show you what your layout will look like in a GUI.
* n is the number of graphs that will be shown ie the layout specified might allow for up to 6 graphs but `layout.show(n=3)` would only specify the first 3

##Creating and saving more complex plots
symbols(xVar, yVar, circles = zVar)
* Allows you to show a third variable on a graph of two variables
* If things are too big the argument inches set to a lower value will make things better
Colors
* Pick the colours you will used based Iliinsky and Steele and someone red, green, yellow, black, white and blue are preferable
* Ideally 6 colours used, 12 is a still okay, but no more than 20
